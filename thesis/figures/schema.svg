<svg xmlns="http://www.w3.org/2000/svg" width="980" height="520" viewBox="0 0 980 520">
  <defs>
    <style>
      .box { fill:#fefefe; stroke:#333; }
      .t { font-family: Helvetica, Arial, sans-serif; font-size:13px; fill:#222; }
      .h { font-size:14px; font-weight:bold; }
      .arrow { stroke:#444; stroke-width:2; marker-end:url(#arrowhead); fill:none; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#444" />
    </marker>
  </defs>
  <rect x="40" y="40" width="260" height="120" class="box"/>
  <text x="50" y="60" class="t h">participants</text>
  <text x="50" y="80" class="t">pid_hash (PK)</text>
  <text x="50" y="100" class="t">consent_timestamp</text>
  <text x="50" y="120" class="t">demographics_json</text>

  <rect x="360" y="40" width="280" height="160" class="box"/>
  <text x="370" y="60" class="t h">messages</text>
  <text x="370" y="80" class="t">message_id_hash (PK)</text>
  <text x="370" y="100" class="t">pid_hash (FK)</text>
  <text x="370" y="120" class="t">thread_id_hash</text>
  <text x="370" y="140" class="t">ts_utc</text>
  <text x="370" y="160" class="t">text_redacted</text>
  <text x="370" y="180" class="t">media_flags_json</text>

  <rect x="40" y="200" width="260" height="140" class="box"/>
  <text x="50" y="220" class="t h">surveys_phq9</text>
  <text x="50" y="240" class="t">pid_hash (PK, FK)</text>
  <text x="50" y="260" class="t">ts_utc</text>
  <text x="50" y="280" class="t">q1..q9, total, positive</text>

  <rect x="360" y="240" width="280" height="160" class="box"/>
  <text x="370" y="260" class="t h">surveys_bfi2xs</text>
  <text x="370" y="280" class="t">pid_hash (PK, FK)</text>
  <text x="370" y="300" class="t">ts_utc</text>
  <text x="370" y="320" class="t">q1..q15, O,C,E,A,N</text>
  <text x="370" y="340" class="t">z_scores, T_scores</text>

  <rect x="680" y="240" width="260" height="160" class="box"/>
  <text x="690" y="260" class="t h">features_user</text>
  <text x="690" y="280" class="t">pid_hash (PK, FK)</text>
  <text x="690" y="300" class="t">feature_name</text>
  <text x="690" y="320" class="t">feature_value</text>
  <text x="690" y="340" class="t">computed_ts</text>

  <line x1="300" y1="100" x2="360" y2="120" class="arrow"/>
  <line x1="300" y1="100" x2="40" y2="240" class="arrow"/>
  <line x1="300" y1="100" x2="360" y2="280" class="arrow"/>
  <line x1="640" y1="160" x2="810" y2="260" class="arrow"/>
</svg>
